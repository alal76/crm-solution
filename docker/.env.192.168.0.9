# Environment Configuration for 192.168.0.9 Deployment
# Copy this file to .env and update values as needed

# =============================================================================
# BUILD & DEPLOYMENT SETTINGS
# =============================================================================
BUILD_SERVER=192.168.0.9
BUILD_SERVER_FQDN=crm.local
DEPLOYMENT_TYPE=kubernetes

# =============================================================================
# DATABASE CONFIGURATION - SQL Server
# =============================================================================
DATABASE_PROVIDER=sqlserver
DB_HOST=192.168.0.9
DB_PORT=1433
DB_NAME=crm_db
DB_USER=sa
DB_PASSWORD=CrmPass@Dev2024!
SA_PASSWORD=CrmPass@Dev2024!

# SQL Server Version & Edition
MSSQL_VERSION=2022-latest
MSSQL_EDITION=Express
MSSQL_PID=Express
MSSQL_COLLATION=SQL_Latin1_General_CP1_CI_AS

# SQL Server Health Check Configuration
# For SQL Server 2019: /opt/mssql-tools/bin
# For SQL Server 2022: /opt/mssql-tools18/bin
MSSQL_TOOLS_PATH=/opt/mssql-tools18/bin
MSSQL_HEALTH_INTERVAL=30s
MSSQL_HEALTH_TIMEOUT=10s
MSSQL_HEALTH_RETRIES=5
MSSQL_START_PERIOD=60s
MSSQL_EXTERNAL_PORT=1433

# Connection string for SQL Server
# Format: Server=host,port;Database=dbname;User Id=user;Password=pass;TrustServerCertificate=True;
CONNECTION_STRING=Server=${DB_HOST},${DB_PORT};Database=${DB_NAME};User Id=${DB_USER};Password=${DB_PASSWORD};TrustServerCertificate=True;

# Demo database settings
DEMO_AUTO_SEED=true
DEMO_DB_NAME=crm_demodb

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_EXTERNAL_PORT=5000
API_INTERNAL_PORT=5000
API_HOST=192.168.0.9

# JWT Settings
JWT_SECRET=CrmJwtSecretKey2024ForSecureAuthentication192168
JWT_EXPIRATION_MINUTES=15

# Contract Storage
CONTRACT_STORAGE_PATH=/app/data/contracts
MAX_CONTRACT_FILE_SIZE=10485760
ALLOWED_MIME_TYPES=application/pdf,image/png,image/jpeg,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
FRONTEND_HOST=192.168.0.9
FRONTEND_PORT=80
FRONTEND_URL=http://192.168.0.9

# CORS Allowed Origins
ALLOWED_ORIGINS=http://192.168.0.9,http://192.168.0.9:80,http://192.168.0.9:3000

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================
REDIS_HOST=192.168.0.9
REDIS_PORT=6379
REDIS_INSTANCE=crm_
REDIS_ENABLED=true
REDIS_EXTERNAL_PORT=6379

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
ENABLE_DOCKER_MONITORING=true
ENABLE_K8S_MONITORING=true
K8S_NAMESPACE=crm-app

# Endpoints to monitor (comma-separated)
MONITORING_API_ENDPOINTS=http://192.168.0.9:5000
MONITORING_DB_SERVERS=192.168.0.9:1433
MONITORING_FRONTEND_URLS=http://192.168.0.9:80
MONITORING_REDIS_ENDPOINTS=192.168.0.9:6379

# Monitoring intervals (seconds)
HEALTH_CHECK_INTERVAL=30
METRICS_RETENTION_HOURS=24

# =============================================================================
# KUBERNETES CONFIGURATION
# =============================================================================
K8S_NAMESPACE=crm-app
K8S_API_REPLICAS=2
K8S_FRONTEND_REPLICAS=2

# Container Registry (for K8s deployments)
CONTAINER_REGISTRY=192.168.0.9:5000
IMAGE_TAG=latest

# =============================================================================
# NETWORKING
# =============================================================================
# Internal Docker network
DOCKER_NETWORK=crm-network

# External access
EXTERNAL_HOST=192.168.0.9
