# Production Kubernetes Configuration
# Target: 192.168.0.9 with VM-hosted MariaDB
---
apiVersion: v1
kind: Namespace
metadata:
  name: crm-production
  labels:
    environment: production
    app: crm
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: crm-config
  namespace: crm-production
data:
  ASPNETCORE_ENVIRONMENT: "Production"
  DatabaseProvider: "MariaDb"
  # Database on VM (192.168.0.9)
  DB_HOST: "192.168.0.9"
  DB_PORT: "3306"
  DB_NAME: "crm_db"
  # Demo database
  DemoDatabase__AutoSeed: "true"
  DemoDatabase__DatabaseName: "crm_demodb"
  # API Configuration
  API_HOST: "0.0.0.0"
  API_PORT: "5000"
  HTTPS_PORT: "5001"
---
apiVersion: v1
kind: Secret
metadata:
  name: crm-secrets
  namespace: crm-production
type: Opaque
stringData:
  # Database credentials - UPDATE THESE FOR PRODUCTION
  MARIADB_ROOT_PASSWORD: "RootPass@Prod2024"
  MARIADB_USER: "crm_user"
  MARIADB_PASSWORD: "CrmPass@Prod2024"
  # Connection string for external VM database
  DB_CONNECTION_STRING: "Server=192.168.0.9;Port=3306;Database=crm_db;User=crm_user;Password=CrmPass@Prod2024;CharSet=utf8mb4;AllowUserVariables=true"
  # JWT Configuration - UPDATE SECRET FOR PRODUCTION
  JWT_SECRET: "CRM-Production-Super-Secret-Key-2024-Must-Be-At-Least-32-Characters"
  JWT_ISSUER: "CRM.Api"
  JWT_AUDIENCE: "CRM.Frontend"
---
apiVersion: v1
kind: Secret
metadata:
  name: crm-ssl-secret
  namespace: crm-production
type: Opaque
stringData:
  SSL_CERT_PASSWORD: ""
