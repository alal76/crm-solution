{
  "DatabaseProvider": "mariadb",
  "ConnectionStrings": {
    "DefaultConnection": ""
  },
  "Redis": {
    "ConnectionString": "localhost:6379",
    "InstanceName": "crm_",
    "Enabled": true,
    "DefaultExpirationMinutes": 30,
    "ShortExpirationMinutes": 5,
    "LongExpirationMinutes": 120
  },
  "Monitoring": {
    "DeploymentType": "docker",
    "BuildServer": "localhost",
    "BuildServerFQDN": "crm.local",
    "ApiEndpoints": "",
    "DatabaseServers": "",
    "FrontendUrls": "",
    "RedisEndpoints": "",
    "KubernetesNamespace": "crm-app",
    "EnableK8sMonitoring": false,
    "EnableDockerMonitoring": true,
    "HealthCheckTimeoutSeconds": 5,
    "CacheDurationSeconds": 30,
    "DatabaseProvider": "mariadb",
    "MssqlVersion": "2022-latest",
    "MssqlEdition": "Express",
    "MssqlToolsPath": "/opt/mssql-tools18/bin",
    "MssqlHealthInterval": "30s",
    "MssqlHealthTimeout": "10s",
    "MssqlHealthRetries": "5",
    "MssqlStartPeriod": "60s",
    "MssqlCollation": "SQL_Latin1_General_CP1_CI_AS"
  },
  "Frontend": {
    "Url": "http://localhost"
  },
  "Jwt": {
    "Secret": "CrmSecureDevSecretKeyForJwtTokenGeneration32Chars!",
    "Issuer": "CRMApp",
    "Audience": "CRMUsers",
    "ExpirationMinutes": 60
  },
  "OAuth": {
    "Google": {
      "ClientId": "${GOOGLE_CLIENT_ID:}",
      "ClientSecret": "${GOOGLE_CLIENT_SECRET:}"
    },
    "GitHub": {
      "ClientId": "${GITHUB_CLIENT_ID:}",
      "ClientSecret": "${GITHUB_CLIENT_SECRET:}"
    },
    "Microsoft": {
      "ClientId": "${MICROSOFT_CLIENT_ID:}",
      "ClientSecret": "${MICROSOFT_CLIENT_SECRET:}"
    }
  },
  "ZipCodeImport": {
    "EnableScheduledImport": false,
    "CronExpression": "0 0 1 * *",
    "ImportSource": "GeoNames",
    "CountryCodes": ["US"],
    "ImportOnStartupIfEmpty": true,
    "MinimumHoursBetweenImports": 168
  },
  "NewsSocial": {
    "CacheMinutes": 15,
    "EnableSentimentAnalysis": true,
    "NewsApi": {
      "ApiKey": "${NEWSAPI_API_KEY:}",
      "BaseUrl": "https://newsapi.org/v2",
      "Enabled": true
    },
    "Twitter": {
      "BearerToken": "${TWITTER_BEARER_TOKEN:}",
      "ApiKey": "${TWITTER_API_KEY:}",
      "ApiSecret": "${TWITTER_API_SECRET:}",
      "BaseUrl": "https://api.twitter.com/2",
      "Enabled": true
    },
    "LinkedIn": {
      "AccessToken": "${LINKEDIN_ACCESS_TOKEN:}",
      "ClientId": "${LINKEDIN_CLIENT_ID:}",
      "ClientSecret": "${LINKEDIN_CLIENT_SECRET:}",
      "BaseUrl": "https://api.linkedin.com/v2",
      "Enabled": true
    }
  },
  "Workflow": {
    "MaxConcurrentTasks": 5,
    "PollIntervalSeconds": 5,
    "LockDurationMinutes": 15,
    "EnableLLMActions": true
  },
  "LLMProviders": {
    "DefaultProvider": "openai",
    "EnableFallback": true,
    "FallbackOrder": ["openai", "azure", "anthropic", "google", "local"],
    "TimeoutSeconds": 60,
    "MaxRetries": 3,
    "DefaultMaxTokens": 1000,
    "DefaultTemperature": 0.7,

    "OpenAI": {
      "ApiKey": "${OPENAI_API_KEY:}",
      "BaseUrl": "https://api.openai.com/v1",
      "DefaultModel": "gpt-4",
      "Organization": ""
    },

    "AzureOpenAI": {
      "Endpoint": "${AZURE_OPENAI_ENDPOINT:}",
      "ApiKey": "${AZURE_OPENAI_API_KEY:}",
      "DeploymentName": "${AZURE_OPENAI_DEPLOYMENT:}",
      "ApiVersion": "2024-02-01",
      "DefaultModel": "gpt-4"
    },

    "Anthropic": {
      "ApiKey": "${ANTHROPIC_API_KEY:}",
      "BaseUrl": "https://api.anthropic.com/v1",
      "DefaultModel": "claude-3-sonnet-20240229",
      "ApiVersion": "2023-06-01"
    },

    "GoogleCloud": {
      "ProjectId": "${GOOGLE_CLOUD_PROJECT_ID:}",
      "Location": "us-central1",
      "ApiKey": "${GOOGLE_AI_API_KEY:}",
      "ServiceAccountKeyPath": "${GOOGLE_APPLICATION_CREDENTIALS:}",
      "DefaultModel": "gemini-1.5-pro",
      "UseVertexAI": false
    },

    "AWSBedrock": {
      "Region": "${AWS_REGION:us-east-1}",
      "AccessKeyId": "${AWS_ACCESS_KEY_ID:}",
      "SecretAccessKey": "${AWS_SECRET_ACCESS_KEY:}",
      "SessionToken": "${AWS_SESSION_TOKEN:}",
      "DefaultModel": "anthropic.claude-3-sonnet-20240229-v1:0",
      "UseDefaultCredentials": true
    },

    "DeepSeek": {
      "ApiKey": "${DEEPSEEK_API_KEY:}",
      "BaseUrl": "https://api.deepseek.com",
      "DefaultModel": "deepseek-chat"
    },

    "LocalLLM": {
      "BaseUrl": "${LOCAL_LLM_URL:http://localhost:11434}",
      "ApiKey": "",
      "DefaultModel": "llama3",
      "ApiFormat": "ollama",
      "Enabled": false,
      "Headers": {}
    },

    "CustomEndpoint": {
      "Url": "${CUSTOM_LLM_URL:}",
      "ApiKey": "${CUSTOM_LLM_API_KEY:}",
      "Headers": {}
    }
  },
  "Resilience": {
    "DefaultTimeoutSeconds": 30,
    "CircuitBreakerThreshold": 5,
    "CircuitBreakerDurationSeconds": 30,
    "MaxRetryAttempts": 3,
    "RetryBaseDelayMs": 500,
    "RetryMaxDelayMs": 30000,
    "EnableCircuitBreaker": true,
    "EnableRetry": true,
    "Services": {
      "llm-openai": {
        "TimeoutSeconds": 60,
        "CircuitBreakerThreshold": 3
      },
      "llm-azure": {
        "TimeoutSeconds": 60,
        "CircuitBreakerThreshold": 3
      },
      "llm-anthropic": {
        "TimeoutSeconds": 60,
        "CircuitBreakerThreshold": 3
      },
      "llm-google": {
        "TimeoutSeconds": 60,
        "CircuitBreakerThreshold": 3
      },
      "llm-bedrock": {
        "TimeoutSeconds": 90,
        "CircuitBreakerThreshold": 3
      },
      "llm-deepseek": {
        "TimeoutSeconds": 60,
        "CircuitBreakerThreshold": 3
      },
      "llm-local": {
        "TimeoutSeconds": 120,
        "CircuitBreakerThreshold": 5
      },
      "webhook": {
        "TimeoutSeconds": 15,
        "CircuitBreakerThreshold": 5
      }
    }
  },
  "AllowedOrigins": "${ALLOWED_ORIGINS:http://localhost:3000,https://localhost:3000}",
  "RateLimiting": {
    "EnableEndpointRateLimiting": true,
    "StackBlockedRequests": false,
    "RealIpHeader": "X-Real-IP",
    "ClientIdHeader": "X-ClientId",
    "HttpStatusCode": 429,
    "QuotaExceededMessage": "API calls quota exceeded!",
    "GeneralRules": [
      {
        "Endpoint": "*",
        "Period": "1m",
        "Limit": 1000
      }
    ],
    "EndpointRules": {
      "/api/auth/login": { "Period": "1m", "Limit": 100 },
      "/api/auth/register": { "Period": "1h", "Limit": 50 },
      "/api/auth/verify-2fa": { "Period": "1m", "Limit": 50 },
      "/api/auth/forgot-password": { "Period": "1h", "Limit": 30 },
      "/api/customers": { "Period": "1m", "Limit": 500 },
      "/api/contacts": { "Period": "1m", "Limit": 500 },
      "/api/opportunities": { "Period": "1m", "Limit": 500 },
      "/api/products": { "Period": "1m", "Limit": 500 },
      "/api/activities": { "Period": "1m", "Limit": 300 },
      "/api/workflowengine": { "Period": "1m", "Limit": 200 },
      "/api/reports": { "Period": "1m", "Limit": 100 },
      "/api/dashboard": { "Period": "1m", "Limit": 200 },
      "/api/llm": { "Period": "1m", "Limit": 60 }
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
